# ุฎุทูุงุช ุงูุชุทุจูู ุงูุณุฑูุนุฉ - ุฅุตูุงุญ ุงูุบุฑู ุงูุตูุชูุฉ ูุงููุณุชุฎุฏููู
## ุชูููุฐ ููุฑู ูู 5 ุฏูุงุฆู โก

### ๐ ุงูุฎุทูุฉ 1: ุชุทุจูู SQL ุนูู Supabase
1. ุงูุชุญ: https://vdpfjkmqggteaijvlule.supabase.co
2. ุงุฐูุจ ุฅูู **SQL Editor** ูู ุงููุงุฆูุฉ ุงููุณุฑู
3. ุงููุฑ **New query**
4. ุงูุชุญ ุงูููู [`supabase/fix_google_oauth_users.sql`](supabase/fix_google_oauth_users.sql)
5. ุงูุณุฎ **ูู** ุงููุญุชูู ูุงูุตูู ูู SQL Editor
6. ุงููุฑ **Run** (ุฃู ุงุถุบุท Ctrl+Enter)
7. ุงูุชุธุฑ ุญุชู ุชุธูุฑ ุฑุณุงูุฉ "Success"

### ๐ ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงูุชุทุจูู
```bash
# ูู Terminal (PowerShell)
pnpm dev
```

ุซู ุงูุชุญ: http://localhost:8080

### ๐ ุงูุฎุทูุฉ 3: ุงูุงุฎุชุจุงุฑ

#### ุงุฎุชุจุงุฑ ุงูุบุฑู ุงูุตูุชูุฉ:
1. ุณุฌู ุฏุฎูู (ุฃู ุงุณุชุฎุฏู ุญุณุงุจู ุงูุญุงูู)
2. ุงุฐูุจ ุฅูู ุงููุงุฆูุฉ โ **Create Voice Room**
3. ุงููุฃ ุงูุจูุงูุงุช:
   - ุงุณู ุงูุบุฑูุฉ: "ุบุฑูุฉ ุชุฌุฑูุจูุฉ"
   - ุงุฎุชุฑ ุงูุฏููุฉ
   - ุงุฎุชุฑ ุงูุฎูููุฉ
4. ุงููุฑ **Create**
5. โ ูุฌุจ ุฃู ุชุธูุฑ ุงูุบุฑูุฉ ูู ุงููุงุฆูุฉ ููุฑุงู
6. ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ (F5)
7. โ ูุฌุจ ุฃู ุชุจูู ุงูุบุฑูุฉ ููุฌูุฏุฉ

#### ุงุฎุชุจุงุฑ Google OAuth:
1. ุงุฐูุจ ุฅูู `/auth/login`
2. ุงููุฑ **Sign in with Google**
3. ุงุฎุชุฑ ุญุณุงุจู ูู Google
4. โ ุชุณุฌูู ุฏุฎูู ูุงุฌุญ

#### ุงุฎุชุจุงุฑ ููุญุฉ ุงูุชุญูู:
1. ุณุฌู ุฏุฎูู ุจุญุณุงุจ admin (ุฃู ุญููู ุญุณุงุจู):
```sql
-- ูููุฐ ูุฐุง ูู Supabase SQL Editor
UPDATE public.users 
SET role = 'admin' 
WHERE email = 'ุจุฑูุฏู@ููุง.com';
```
2. ุงุฐูุจ ุฅูู `/admin/users`
3. โ ูุฌุจ ุฃู ุชุธูุฑ ูุงุฆูุฉ ุงููุณุชุฎุฏููู

### โ ุงููุชุงุฆุฌ ุงููุชููุนุฉ

**ุฅูุดุงุก ุงูุบุฑู:**
- โ ุงูุบุฑูุฉ ุชููุดุฃ ูุชุธูุฑ ููุฑุงู
- โ ุงูุบุฑูุฉ ุชุจูู ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุญููู
- โ ูููู ุงูุฏุฎูู ููุบุฑูุฉ ูู ูุงุฆูุฉ ุงูุบุฑู

**ุชุณุฌูู ุงูุฏุฎูู:**
- โ Google OAuth ูุนูู ุจูุฌุงุญ
- โ ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ ูู Google ุชูุญููู
- โ ุงููุณุชุฎุฏู ููุถุงู ุชููุงุฆูุงู

**ููุญุฉ ุงูุชุญูู:**
- โ ุฌููุน ุงููุณุชุฎุฏููู ูุธูุฑูู
- โ ูุนูููุงุช ูุงููุฉ (username, email, avatar)
- โ ูููู ุงูุจุญุซ ูุงูุชุตููุฉ

### ๐ ุฅุฐุง ูุงุฌูุช ูุดููุฉ

#### ุงููุณุชุฎุฏููู ูุง ูุธูุฑูู:
```sql
-- ุชุญูู ูู Supabase SQL Editor
SELECT COUNT(*) FROM auth.users;    -- ุนุฏุฏ ูุณุชุฎุฏูู Auth
SELECT COUNT(*) FROM public.users;  -- ุนุฏุฏ ูุณุชุฎุฏูู Public
-- ูุฌุจ ุฃู ููููุง ูุชุณุงูููู ุชูุฑูุจุงู
```

#### ุงูุบุฑู ูุง ุชุธูุฑ:
```sql
-- ุชุญูู ูู Supabase SQL Editor
SELECT * FROM voice_rooms WHERE is_active = true;
```

```javascript
// ุชุญูู ูู Browser Console
localStorage.getItem('voice:rooms');
```

### ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุบุฑู ุชูุญููู ุชููุงุฆูุงู ูู 3 ุซูุงูู** - ูุง ุญุงุฌุฉ ูุฅุนุงุฏุฉ ุชุญููู ูุฏููุฉ
2. **Google OAuth ูุชุทูุจ HTTPS ูู Production** - ูู localhost ูุนูู ุจุฏูู HTTPS
3. **ุงูู Trigger ููููุฐ ุชููุงุฆูุงู** ุนูุฏ ูู ุชุณุฌูู ุฏุฎูู ุฌุฏูุฏ

### ๐ฏ ุงููููุงุช ุงููููุฉ

- [`supabase/fix_google_oauth_users.sql`](supabase/fix_google_oauth_users.sql) - **ูููุฐ ูุฐุง ุฃููุงู**
- [`VOICE_ROOMS_GOOGLE_AUTH_FIX.md`](VOICE_ROOMS_GOOGLE_AUTH_FIX.md) - ุงูุดุฑุญ ุงููุงูู
- [`src/pages/voice-chat/CreateRoom.tsx`](src/pages/voice-chat/CreateRoom.tsx) - ุตูุญุฉ ุฅูุดุงุก ุงูุบุฑู
- [`src/pages/voice-chat/RoomList.tsx`](src/pages/voice-chat/RoomList.tsx) - ูุงุฆูุฉ ุงูุบุฑู
- [`src/services/VoiceChatService.ts`](src/services/VoiceChatService.ts) - ุฎุฏูุฉ ุงูุบุฑู

---

**ูู ุดูุก ุฌุงูุฒ! ุงุจุฏุฃ ุจุชูููุฐ SQL ูุฌุฑูุจ ุงูุชุทุจูู ๐**
